<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script type="text/javascript" src="../mootools.js"></script>
<script type="text/javascript">
function getOffset(evt)
{
  var target = evt.target;
  if (target.offsetLeft == undefined)
  {
    target = target.parentNode;
  }
  var pageCoord = getPageCoord(target);
  var eventCoord =
  { 
    x: window.pageXOffset + evt.clientX,
    y: window.pageYOffset + evt.clientY
  };
  var offset =
  {
    offsetX: eventCoord.x - pageCoord.x,
    offsetY: eventCoord.y - pageCoord.y
  };
  return offset;
}

function getPageCoord(element)
{
  var coord = {x: 0, y: 0};
  while (element)
  {
    coord.x += element.offsetLeft;
    coord.y += element.offsetTop;
    element = element.offsetParent;
  }
  return coord;
}


var gcToggle = "#ffff00";
var gcBG = "#CCCCFF";

var yearShift = 0;
function fPopUpCalendarDlgFormat(ctrlobj,ctrlobj1,typenum,event)
{
	event = (event)?event:window.event;
			
	//showx = event.screenX - event.offsetX - 4 //- 210 ; // + deltaX;
	//showy = event.screenY - event.offsetY + 18; // + deltaY;
	//newWINwidth = 210 + 4 + 18;
	
	if (event.offsetX == undefined)
	{
	    var evtOffsets = getOffset(event);
		
		showx = event.screenX - evtOffsets.offsetX - 4 
		showy = event.screenY - evtOffsets.offsetY + 18; 
	}
	else
	{
	    showx = event.screenX - event.offsetX - 4 
		showy = event.screenY - event.offsetY + 18; 
	}
	
	var path = location.pathname;
	
	if(path.charAt(0)=='/') path = path.substring(1,path.length);
	path = path.substring(0,path.indexOf('/'));
	
	
		path = 'CalendarDlg.htm';
	
	retval = window.showModalDialog(path, "", "dialogWidth:197px; dialogHeight:210px; dialogLeft:"+showx+"px; dialogTop:"+showy+"px; status:no; directories:yes;scrollbars:no;Resizable=no; "  );
	//retval = window.showModalDialog("bb.htm", "", "dialogWidth:197px; dialogHeight:210px; dialogLeft:"+showx+"px; dialogTop:"+showy+"px; status:no; directories:yes;scrollbars:no;Resizable=no; "  );
	
	if( retval != null ){
		//alert("???w??????^?????I!!???I");
		if (typenum == 0){
			ctrlobj.value = retval; //??????:2003-01-01
			
			var dd = retval.split("/");
			var dstr = (parseInt(dd[0])+yearShift) + "/" + dd[1] + "/" + dd[2];
			ctrlobj1.value = dstr;
		}
		else if (typenum == 1){
			if (retval != "")
				ctrlobj.value = retval.split("-")[0] + retval.split("-")[1] + retval.split("-")[2]; //??????:20030101
			else
				ctrlobj.value = retval;
		}	
	}else{
	       	//alert("canceled");
	}
}
</script>
<title>Insert title here</title>
</head>
<body>
<form method="post" id="Form1" action="query.do" name="queryForm">
<table>
<input type="hidden" name="q_xpostDate_S" id="q_xpostDate_S"><input type="hidden" name="q_xpostDate_E" id="q_xpostDate_E">
<tr>
<td class="Label">張貼日</td><td><input readonly size="10" name="pcShowq_xpostDate_S" id="pcShowq_xpostDate_S"><a href="#javascript:;" onclick="fPopUpCalendarDlgFormat($('pcShowq_xpostDate_S'),$('q_xpostDate_S'),0,event)"><img height="17" width="22" src="images/calendar/btn_date_up.gif" name="BTN_date" border="0" align="absmiddle" alt="xpostDate"></a>									
 ～ 
									<input readonly size="10" name="pcShowq_xpostDate_E" id="pcShowq_xpostDate_E"><a href="#javascript:;" onclick="fPopUpCalendarDlgFormat($('pcShowq_xpostDate_E'),$('q_xpostDate_E'),0,event)"><img height="17" width="22" src="images/calendar/btn_date_up.gif" name="BTN_date" border="0" align="absmiddle" alt="xpostDate"></a></td>
</tr>
</table>
</form>
</body>
</html>